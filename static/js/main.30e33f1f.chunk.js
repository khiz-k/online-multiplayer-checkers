(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{45:function(e,t,a){e.exports=a(88)},50:function(e,t,a){},81:function(e,t){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),l=a.n(c),o=(a(50),a(6)),u=a(42),m=a.n(u),i=a(12),s=a(8);function b(e){var t=e.createGame,a=Object(n.useState)(""),c=Object(o.a)(a,2),l=c[0],u=c[1];return r.a.createElement("div",null,r.a.createElement("h1",null,"Create New Game"),r.a.createElement(i.a,{onSubmit:function(e){e.preventDefault(),t(l)}},r.a.createElement(i.a.Group,{controlId:"name"},r.a.createElement(i.a.Label,null,"Name of Game"),r.a.createElement(i.a.Control,{autoFocus:!0,type:"text",value:l,onChange:function(e){var t=e.target;return u(t.value)}})),r.a.createElement(s.a,{variant:"primary",onClick:function(){return t(l)}},"Create")))}var d=a(43);function f(e){var t=e.setPage,a=e.joinGame,n=e.games;return r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"mb-4"},r.a.createElement(s.a,{variant:"primary",onClick:function(){return t("CreateNewGame")}},"Create New Game")),r.a.createElement(d.a,{striped:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Game Name"),r.a.createElement("th",null,"Number of Players"),r.a.createElement("th",null))),r.a.createElement("tbody",null,0===n.length&&r.a.createElement("tr",null),n.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.numberOfPlayers," / 2"),r.a.createElement("td",null,r.a.createElement(s.a,{onClick:function(){return a(e.id)},variant:"link"},"Join Game")))})))))}var E=a(44),v=a(2),p=a.n(v),j={0:"empty",1:"red",2:"black",3:"red",4:"black"};function O(e){var t=e.leaveGame,a=e.movePiece,c=e.game,l=e.color,u=Object(n.useState)({}),m=Object(o.a)(u,2),i=m[0],s=m[1];Object(n.useEffect)((function(){return function(){return t()}}),[]);var b=function(e,t){return i.i===e&&i.j===t},d=function(e){return 1===e?"red":"black"},f=function(){return r.a.createElement("div",{className:"board"},c.board.map((function(e,t){return r.a.createElement("div",{key:t,className:"row"},e.map((function(e,n){return r.a.createElement("div",{key:"".concat(t," ").concat(n),className:p()("cell",{gray:(t+n)%2===0,white:(t+n)%2!==0}),onClick:function(){return function(e,t){c.turn===l&&0===c.board[e][t]&&(e+t)%2!==1&&(a({selectedPiece:i,destination:{i:e,j:t}}),s({}))}(t,n)}},0!==e&&r.a.createElement("div",{className:p()("piece",{selected:b(t,n),red:1===e,black:2===e,blackQueen:4===e,redQueen:3===e,clickable:l===d(e)}),onClick:function(){return function(e,t){c.turn===l&&j[c.board[e][t]]===l&&s({i:e,j:t})}(t,n)}}))})))})))},v=function(){return 2===c.numberOfPlayers};return r.a.createElement("div",{className:"center"},!v()&&r.a.createElement("div",{className:"center"},r.a.createElement("h2",{className:"mb-4"},c.name),r.a.createElement("div",{className:"mb-4"},r.a.createElement(E.a,{animation:"border",role:"status"})),r.a.createElement("span",null,"Waiting for an opponent....")),v()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"game__info"},r.a.createElement("h2",null,"Your piece color is ",l),c.turn===l&&r.a.createElement("h3",null,"It is your turn!"),c.turn!==l&&r.a.createElement("h3",null,"Waiting for opponent!")),f()))}var h=a(13);a(87);var g=function(){var e=Object(n.useState)("Lobby"),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),u=Object(o.a)(l,2),i=u[0],d=u[1],E=Object(n.useState)(""),v=Object(o.a)(E,2),p=v[0],j=v[1],g=Object(n.useState)({board:[]}),k=Object(o.a)(g,2),y=k[0],N=k[1],G=Object(n.useState)(null),C=Object(o.a)(G,2),w=C[0],S=C[1],P=Object(n.useState)(null),L=Object(o.a)(P,2),F=L[0],x=L[1],B=Object(n.useState)(!1),H=Object(o.a)(B,2),I=H[0],J=H[1],Q=Object(n.useState)(""),T=Object(o.a)(Q,2),W=T[0],Y=T[1],_=Object(n.useState)(""),z=Object(o.a)(_,2),D=z[0],K=z[1];Object(n.useEffect)((function(){var e=i.find((function(e){return e.id===w}));N(e||{board:[]})}),[i,w]),Object(n.useEffect)((function(){var e=m()("https://khiz-checkers-backend.herokuapp.com/",{transports:["websocket"]});e.on("disconnect",(function(){S(null),j(""),c("Lobby"),alert("The server crashed or restarted")})),e.on("games",(function(e){d(e)})),e.on("your-game-created",(function(e){S(e)})),e.on("color",(function(e){return j(e)})),e.on("end-game",(function(){S(null),j(""),c("Lobby"),J(!0),K("Your opponent has left the game"),Y("Game Over")})),e.on("winner",(function(e){alert("".concat(e," has won the game!"))})),x(e)}),[]);var M=function(){return J(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"center"},r.a.createElement("h1",{className:"title",onClick:function(){return c("Lobby")}},"Click to go Home ",r.a.createElement("span",null,"board breaks on 400px width")),"Lobby"===a&&r.a.createElement(f,{games:i,setPage:c,joinGame:function(e){F.emit("join-game",e),c("Game"),S(e)}}),"CreateNewGame"===a&&r.a.createElement(b,{createGame:function(e){F.emit("create-game",e),c("Game")}}),"Game"===a&&y&&r.a.createElement(O,{color:p,game:y,leaveGame:function(){N("Lobby"),F.emit("leave-game")},movePiece:function(e){var t=e.selectedPiece,a=e.destination;F.emit("move-piece",{selectedPiece:t,destination:a})}})),r.a.createElement(h.a,{show:I,onHide:M},r.a.createElement(h.a.Header,{closeButton:!0},r.a.createElement(h.a.Title,null,W)),r.a.createElement(h.a.Body,null,D),r.a.createElement(h.a.Footer,null,r.a.createElement(s.a,{variant:"primary",onClick:M},"OK"))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.30e33f1f.chunk.js.map